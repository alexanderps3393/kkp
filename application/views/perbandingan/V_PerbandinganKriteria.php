<div class="content-wrapper">
  <section class="content-header">
    <h1>
      <small><b>Halaman Data Matriks Perbandingan Kriteria</b></small>
    </h1>
  </section>

<section class="content">
    
<div class="row">
  <div class="col-lg-12">
    <div class="panel panel-default">
      <div class="panel-body">
        <div class="row">
          <div class="col-md-12">
            <div class="nav-tabs-custom">
              <ul class="nav nav-tabs">
                <li class="active"><a href="#tab_1" data-toggle="tab">Masukkan Nilai Banding</a></li>
                <li><a href="#tab_2" data-toggle="tab">Matriks Banding</a></li>
                <li><a href="#tab_3" data-toggle="tab">Eigenvector</a></li>
              </ul>
              <div class="tab-content">
                <div class="tab-pane active" id="tab_1">
                  <div class="container-fluid" style="margin-bottom: 10px;">
                    <center><b>Masukkan Nilai Perbandingan Kriteria</b></center>
                    <hr>
                  </div>       
                  <form method="POST" action="<?php echo base_url('C_PerbandinganKriteria/perbandinganMatriks') ?>">
                  <table>
                    <tr>
                      <td><b>Kompetensi</b></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="9"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="8"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="7"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="6"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="5"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="4"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="3"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="2"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="1"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="2"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="3"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="4"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="5"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="6"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="7"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="8"></td>
                      <td align="center" width="50"><input type="radio" name="k1" value="9"></td>
                      <td><b>Interview</b></td>
                    </tr>
                    <tr>
                      <td></td>
                      <td align="center" width="50">9</td>
                      <td align="center" width="50">8</td>
                      <td align="center" width="50">7</td>
                      <td align="center" width="50">6</td>
                      <td align="center" width="50">5</td>
                      <td align="center" width="50">4</td>
                      <td align="center" width="50">3</td>
                      <td align="center" width="50">2</td>
                      <td align="center" width="50">1</td>
                      <td align="center" width="50">2</td>
                      <td align="center" width="50">3</td>
                      <td align="center" width="50">4</td>
                      <td align="center" width="50">5</td>
                      <td align="center" width="50">6</td>
                      <td align="center" width="50">7</td>
                      <td align="center" width="50">8</td>
                      <td align="center" width="50">9</td>
                      <td></td>
                    </tr>

                    <tr>
                      <td><b>Konsistensi</b></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="9"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="8"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="7"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="6"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="5"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="4"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="3"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="2"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="1"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="2"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="3"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="4"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="5"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="6"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="7"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="8"></td>
                      <td align="center" width="50"><input type="radio" name="k2" value="9"></td>
                      <td><b>Kompetensi</b></td>
                    </tr>
                    <tr>
                      <td></td>
                      <td align="center" width="50">9</td>
                      <td align="center" width="50">8</td>
                      <td align="center" width="50">7</td>
                      <td align="center" width="50">6</td>
                      <td align="center" width="50">5</td>
                      <td align="center" width="50">4</td>
                      <td align="center" width="50">3</td>
                      <td align="center" width="50">2</td>
                      <td align="center" width="50">1</td>
                      <td align="center" width="50">2</td>
                      <td align="center" width="50">3</td>
                      <td align="center" width="50">4</td>
                      <td align="center" width="50">5</td>
                      <td align="center" width="50">6</td>
                      <td align="center" width="50">7</td>
                      <td align="center" width="50">8</td>
                      <td align="center" width="50">9</td>
                      <td></td>
                    </tr>

                    <tr>
                      <td><b>Konsistensi</b></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="9"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="8"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="7"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="6"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="5"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="4"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="3"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="2"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="1"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="2"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="3"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="4"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="5"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="6"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="7"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="8"></td>
                      <td align="center" width="50"><input type="radio" name="k3" value="9"></td>
                      <td><b>Interview</b></td>
                    </tr>
                    <tr>
                      <td></td>
                      <td align="center" width="50">9</td>
                      <td align="center" width="50">8</td>
                      <td align="center" width="50">7</td>
                      <td align="center" width="50">6</td>
                      <td align="center" width="50">5</td>
                      <td align="center" width="50">4</td>
                      <td align="center" width="50">3</td>
                      <td align="center" width="50">2</td>
                      <td align="center" width="50">1</td>
                      <td align="center" width="50">2</td>
                      <td align="center" width="50">3</td>
                      <td align="center" width="50">4</td>
                      <td align="center" width="50">5</td>
                      <td align="center" width="50">6</td>
                      <td align="center" width="50">7</td>
                      <td align="center" width="50">8</td>
                      <td align="center" width="50">9</td>
                      <td></td>
                    </tr>

                  </table>

                  <div class="modal-footer" style="margin-top: 30px">
                    <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-close"></i> Batal</button>
                    <button type="submit" class="btn btn-success"><i class="fa fa-save"></i> Simpan</button>
                  </div>
                </form>
                </div>

                <div class="tab-pane" id="tab_2">
                  <div class="container-fluid" style="margin-bottom: 10px;">
                    <center><b>Matriks Perbandingan Kriteria</b></center>
                    <hr>
                  </div>

                  <table style="table-layout:fixed" class="table table-striped table-bordered">
                    <tr>
                      <td>Kriteria</td>
                      <th><center>Kompetensi</center></th>
                      <th><center>Interview</center></th>
                      <th><center>Konsistensi</center></th>
                    </tr>

                    <?php for ($i=0; $i<sizeof($hasil); $i++) { ?>
                      <?php echo"<tr>"?>
                        <?php echo"<td> <b>Kompetensi</b> </td>"?>
                        <?php for ($j=0; $j<sizeof($hasil[$i]); $j++) { ?>
                          <?php echo "<td align='center'>". round($hasil[$i][$j], 4)."</td>"; ?>
                        <?php } ?>
                      <?php echo"</tr>"?>
                    <?php } ?>

                  </table>
                  
                </div>

                <div class="tab-pane" id="tab_3">
                  <div class="container-fluid" style="margin-bottom: 10px;">
                    <center><b>Eigenvector Kriteria</b></center>
                  </div>

                  <hr>
                  
                  <table style="table-layout:fixed" class="table table-striped table-bordered">
                    <tr>
                      <td>Kriteria</td>
                      <th><center>Nilai Banding</center></th>
                      <th><center>Eigenvector</center></th>
                    </tr>


                    <?php 

                    function perkalian_matriks($matriks_a, $matriks_b) {
                      $hasil = array();
                      for ($i=0; $i<sizeof($matriks_a); $i++) {
                        for ($j=0; $j<sizeof($matriks_b[0]); $j++) {
                          $temp = 0;
                          for ($k=0; $k<sizeof($matriks_b); $k++) {
                            $temp += $matriks_a[$i][$k] * $matriks_b[$k][$j];
                          }
                          $hasil[$i][$j] = $temp;
                        }
                      }
                      return $hasil;
                    }

                    function penjumlahan_matriks($matriks1) {
                      $hasil1 = array();
                      for ($i=0; $i<sizeof($matriks1); $i++) {
                          $temp2 = 0;
                          for ($k=0; $k<sizeof($matriks1); $k++) {
                            $temp2 = $temp2+$matriks1[$i][$k];
                          }
                          $hasil1[$i] = $temp2;
                      }
                      return $hasil1;
                    }

                    function cari_eigenvektor($cari_total) {
                      $hasil3 = array();
                      for ($i=0; $i<sizeof($cari_total); $i++) {
                          $temp2 = $cari_total[$i];
                          $hasil3[$i] = $temp2;
                      }
                      $total = array_sum($hasil3);
                      for ($j=0; $j<sizeof($cari_total); $j++) {
                        $eigenvektor = $cari_total[$j]/$total;
                        $hasil3[$j] = $eigenvektor;
                      }
                      return $hasil3;
                    }

                    //ga tau dipake apa engga
                    function cari_total($cari_total) {
                      $hasil2 = array();
                      for ($i=0; $i<sizeof($cari_total); $i++) {
                          $temp2 = $cari_total[$i];
                          $hasil2[$i] = $temp2;
                      }
                      $total = array_sum($hasil2);
                      return $total;
                    }

                    ?>

                    <?php $matriksB = $hasil;

                    $perkalianMatriks = perkalian_matriks($hasil, $matriksB);
                    
                    $penjumlahanMatriks = penjumlahan_matriks($perkalianMatriks);
                    $eigenvektor = cari_eigenvektor($penjumlahanMatriks);
                      for ($i=0; $i<sizeof($penjumlahanMatriks); $i++) {
                        echo "<tr>";
                          echo "<td><b>Kriteria<b></td>";
                          echo "<td>". round($penjumlahanMatriks[$i], 4) ."</td>";  
                      }
                      for ($i=0; $i<sizeof($eigenvektor); $i++) {
                        echo "<tr>";
                          echo "<td>". round($eigenvektor[$i], 4) ."</td>";
                            
                      }
                      echo "</tr>";
                      

                    ?>

                  </table>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>